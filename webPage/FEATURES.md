# MacCrash Auto Symbolizer Web - 功能特性

## 🎉 项目概述

MacCrash Auto Symbolizer Web 是一个基于 FastAPI 的现代化 Web 应用，提供 Mac 崩溃日志自动符号化服务。采用 GitHub Primer 设计系统，支持中英文切换，具有专业级的用户体验。

## 🌟 核心特性

### 1. GitHub 风格界面
- **设计系统**: 采用 GitHub Primer 设计语言
- **视觉效果**: 现代化、专业、简洁的界面风格  
- **组件库**: 使用 Octicons 图标和 GitHub 原生组件
- **色彩系统**: 完整的明暗主题支持，自动跟随系统设置

### 2. 多语言支持 🌍
- **语言切换**: 右上角一键切换中英文
- **本地存储**: 自动记忆用户语言偏好
- **实时更新**: 无需刷新页面即可切换语言
- **完整翻译**: 覆盖所有界面元素、表单、提示信息

### 3. 响应式设计 📱
- **自适应布局**: 完美适配桌面、平板、手机
- **断点优化**: 针对不同屏幕尺寸的专门优化
- **触控友好**: 移动设备优化的交互体验
- **性能优化**: 高效的 CSS 网格和弹性布局

## 🔧 功能模块

### 配置参数面板
- **版本号输入**: 实时验证 Webex 版本格式
- **架构选择**: ARM64 (Apple Silicon) / x86_64 (Intel)
- **NDI 模式**: 可选的备份符号文件模式
- **表单验证**: 即时反馈和错误提示

### 输入方式选择
- **分段控制器**: GitHub 风格的输入方式切换
- **文本输入**: 直接粘贴 Stack 堆栈内容
- **文件上传**: 支持拖拽上传 .ips/.diag/.txt/.crash 文件
- **智能切换**: 自动清空另一种输入方式的内容

### 输出结果面板
- **选项卡界面**: 符号化结果和执行日志分离显示
- **代码高亮**: 等宽字体显示的格式化输出
- **操作按钮**: 复制到剪贴板、下载结果文件
- **滚动优化**: 自定义滚动条和自动滚动

### 实时状态反馈
- **进度指示器**: 处理过程的可视化进度条
- **状态消息**: 优雅的 Flash 消息提示系统
- **按钮状态**: 智能的按钮禁用和加载状态
- **日志轮询**: 实时更新处理日志

## 🏗️ 技术架构

### 前端技术栈
- **HTML5**: 语义化标记和可访问性支持
- **CSS3**: CSS 变量、网格布局、弹性盒子
- **Vanilla JavaScript**: 无框架依赖的纯 JS 实现
- **响应式设计**: Mobile-first 设计理念

### 后端技术栈
- **FastAPI**: 高性能异步 Web 框架
- **Pydantic**: 数据验证和序列化
- **Jinja2**: 模板引擎
- **线程池**: 并发处理符号化任务

### 设计系统
- **GitHub Primer**: 官方设计系统
- **CSS 变量**: 主题切换和一致性保证
- **Octicons**: GitHub 官方图标库
- **暗色主题**: 自动检测系统偏好

## 🎯 用户体验

### 交互设计
- **直观操作**: 清晰的视觉层次和操作流程
- **即时反馈**: 所有操作都有明确的状态反馈
- **容错处理**: 友好的错误提示和恢复建议
- **无障碍访问**: 键盘导航和屏幕阅读器支持

### 性能优化
- **快速加载**: 优化的资源加载和缓存策略
- **流畅动画**: 60fps 的过渡动画效果
- **内存管理**: 自动清理临时文件和内存泄漏防护
- **网络优化**: 智能的请求重试和错误处理

## 🔒 安全特性

### 文件安全
- **类型验证**: 严格的文件格式检查
- **大小限制**: 合理的文件大小约束
- **临时存储**: 自动清理临时文件
- **路径安全**: 防止路径遍历攻击

### 数据安全
- **输入验证**: 严格的表单数据验证
- **SQL 注入防护**: 参数化查询和输入过滤
- **XSS 防护**: 内容转义和 CSP 策略
- **CSRF 保护**: 跨站请求伪造防护

## 📊 API 接口

### REST API 端点
```
GET  /                    # 主页面
POST /symbolize          # 符号化处理
GET  /logs               # 获取日志
POST /clear-logs         # 清空日志
GET  /static/*           # 静态资源
```

### 请求格式
```json
{
  "version": "45.8.0.32875",
  "arch": "x86|arm64", 
  "isNDI": false,
  "stack_content": "...",
  "crash_file": "<file>"
}
```

### 响应格式
```json
{
  "success": true,
  "output": "符号化结果...",
  "error": null,
  "logs": ["日志信息..."]
}
```

## 🚀 部署和维护

### 启动方式
```bash
# 推荐方式
python startup.py

# 直接启动
python app.py

# 命令行方式
uvicorn webPage.app:app --host 0.0.0.0 --port 8080
```

### 环境要求
- Python 3.8+
- FastAPI 0.68.0+
- 现代浏览器 (Chrome 88+, Firefox 84+, Safari 14+)

### 监控和日志
- **结构化日志**: JSON 格式的详细日志记录
- **性能监控**: 请求时间和资源使用统计
- **错误追踪**: 完整的错误堆栈和上下文信息
- **健康检查**: 系统状态和依赖服务检查

## 🌈 未来规划

### 潜在功能增强
- **批量处理**: 多文件并行符号化
- **历史记录**: 处理历史和结果缓存
- **高级过滤**: 结果过滤和搜索功能
- **导出格式**: 多种格式的结果导出

### 技术优化
- **PWA 支持**: 离线使用和原生应用体验
- **WebSocket**: 实时日志推送
- **缓存策略**: 智能的结果缓存机制
- **微服务**: 服务拆分和容器化部署

---

🎉 **MacCrash Auto Symbolizer Web 现在是一个功能完整、界面精美、技术先进的专业级 Web 应用！**
